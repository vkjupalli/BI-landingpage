<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>BI World</title>
    <style>
      body,
      html,
      p {
        margin: 0;
        padding: 0;
        font-family: Verdana, Arial, sans-serif;
      }
      a {
        color: inherit;
        text-decoration: none;
      }
      .content {
        padding: 0 16px;
      }
      .content,
      .header,
      .footer {
        padding: 0;
        max-width: 840px;
        margin: 0 auto;
      }

      /* HEADER */
      header {
        background: #939393;
        color: white;
        padding: 16px;
      }
      .header {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: space-between;
        width: 100%;
      }
      .header h1 {
        font-size: 24px;
        margin: 0;
      }
      .menu-icon {
        font-size: 28px;
        cursor: pointer;
      }
      .menu-icon a:hover {
        color: #b14fa2;
        text-decoration: none;
      }
      /* HERO BANNER */
      .hero {
        color: #535353;
        padding: 24px 0;
        background: linear-gradient(180deg, #939393 0%, #ffffff 100%);
      }
      .hero h2.subtext {
        font-size: 20px;
        font-weight: 400;
        color: #fff;
        margin: 0;
      }
      .hero p {
        font-size: 16px;
        line-height: 1.5;
        margin: 20px auto 0;
      }

      /* CONTAINER (Logo area) */
      #container {
        position: relative;
        width: 100%;
        height: 60vh;
        background: white;
        cursor: pointer;
      }
      #logo-svg {
        position: absolute;
        width: 300px;
        height: 300px;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
      #logo-svg:focus {
        outline: none;
      }
      .word {
        position: absolute;
        color: #ccc;
        opacity: 0.7;
        user-select: none;
        white-space: nowrap;
        transition: left 1s ease, top 1s ease;
      }
      .word.prime:hover {
        color: #ff9800;
      }
      .word.first:hover {
        color: #ffeb3b;
      }
      .word.middle:hover {
        color: #2196f3;
      }
      .word.middle:hover {
        color: #2196f3;
      }
      .word.even:hover {
        color: #4caf50;
      }
      .word.odd:hover {
        color: #b14fa2;
      }
      .word:hover {
        border-radius: 4px;
        font-weight: bold;
      }
      .est-year {
        display: flex;
        justify-content: center; /* centers horizontally */
        align-items: center; /* centers vertically if needed */
        margin: 0 auto; /* spacing above/below */
        max-width: 250px; /* optional limit */
      }

      .est-year img {
        width: 100%;
        height: auto;
        display: block;
      }

      /* FOOTER */
      footer {
        background: #939393;
        color: white;
        text-align: center;
        padding: 22px 16px;
        font-size: 14px;
        font-weight: 600;
        background: linear-gradient(180deg, #ffffff 3%, #939393 70%);
      }

      @media only screen and (max-width: 767px) {
        .content,
        header,
        footer {
          max-width: 100%;
        }
        .header h1 {
          font-size: 18px;
        }
        .content {
          padding: 0 12px;
        }
        footer,
        header {
          padding: 16px 12px;
        }
      }
    </style>
  </head>
  <body>

    <!-- Logo Switch Control START -->
    <div class="logo-switch-container">
      <div class="control-group">
        <label for="page-select">Choose Page:</label>
        <select id="page-select">
          <option value="landingpage-a.html">Page A</option>
          <option value="landingpage-b.html">Page B</option>
        </select>
      </div>
      
      <div class="control-group">
        <label for="logo-select">Choose Logo:</label>
        <select id="logo-select">
          <option value="logo-a.svg">Logo A</option>
          <option value="logo-b.svg">Logo B</option>
          <option value="logo-c.svg">Logo C</option>
          <option value="logo-d.svg">Logo D</option>
        </select>
      </div>
    </div>

    <style>
      .logo-switch-container {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
        background: rgba(255, 255, 255, 0.9);
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        backdrop-filter: blur(5px);
        min-width: 140px;
      }

      .control-group {
        margin-bottom: 12px;
      }

      .control-group:last-child {
        margin-bottom: 0;
      }

      .logo-switch-container label {
        display: block;
        font-size: 12px;
        color: #333;
        margin-bottom: 5px;
        font-weight: bold;
      }

      .logo-switch-container select {
        padding: 8px 12px;
        border: 1px solid #ddd;
        border-radius: 4px;
        background: white;
        font-size: 14px;
        color: #333;
        cursor: pointer;
        width: 100%;
        min-width: 120px;
      }

      .logo-switch-container select:focus {
        outline: none;
        border-color: #0b63ff;
        box-shadow: 0 0 0 2px rgba(11, 99, 255, 0.2);
      }

      .logo-switch-container select:hover {
        border-color: #0b63ff;
      }
    </style>

    <script>
      // Page and Logo switching functionality
      document.addEventListener('DOMContentLoaded', function() {
        const pageSelect = document.getElementById('page-select');
        const logoSelect = document.getElementById('logo-select');
        const logoSvg = document.getElementById('logo-svg');
        
        // Set current page in dropdown
        const currentPage = window.location.pathname.split('/').pop();
        if (currentPage && pageSelect) {
          pageSelect.value = currentPage;
        }
        
        // Page switching functionality
        pageSelect.addEventListener('change', function() {
          const selectedPage = this.value;
          if (selectedPage !== currentPage) {
            window.location.href = selectedPage;
          }
        });
        
        // Logo switching functionality
        logoSelect.addEventListener('change', function() {
          const selectedLogo = this.value;
          logoSvg.src = selectedLogo;
          logoSvg.alt = `Logo ${selectedLogo.charAt(5).toUpperCase()}`;
        });
      });
    </script>
    <!-- Logo Switch Control END -->

    <!-- HEADER -->
    <header>
      <div class="header">
        <h1>BIRMINGHAM INVENTORS</h1>
        <div class="menu-icon" id="menu-toggle">
          <a
            href="https://google.com"
            target="_blank"
            rel="menu-toggle"
            id="menu-toggle-link"
            tabindex="-1"
            aria-hidden="true"
            >&#9776;
          </a>
        </div>
      </div>
    </header>

    <!-- HERO BANNER -->
    <div class="hero">
      <div class="content">
        <h2 class="subtext">Support for like minded investors...</h2>
        <p>
          Birmingham Inventors was established on September 11th 1984 and has
          been helping inventors and innovators for nearly forty years
          continuously since then even during COVID when we had Zoom meetings.
          Our members include very experienced sales executives, medical, and
          technical experts with decades of experience in government and
          privately funded research and development from concept to marketing.
        </p>
      </div>
    </div>
    <div class="content">
      <!-- LOGO CONTAINER -->
      <div
        id="container"
        aria-label="Triangle logo with words around"
        role="img"
      >
        <a
          href="https://google.com"
          target="_blank"
          rel="noopener noreferrer"
          id="logo-link"
          tabindex="-1"
          aria-hidden="true"
        >
          <img id="logo-svg" src="logo-a.svg" alt="Logo" />
        </a>
      </div>
      <div class="est-year" aria-label="Established year" role="img">
        <img id="est-year" src="est1984.svg" alt="Established year" />
      </div>
    </div>

    <!-- FOOTER -->
    <footer>
      <div class="footer">
        <p>&copy; 2025 Birmingham Inventors. All rights reserved.</p>
      </div>
    </footer>

    <script>
      const container = document.getElementById('container');
      const logoSVG = document.getElementById('logo-svg');
      const logoLink = document.getElementById('logo-link');

      const words = [
        'Royalties',
        'Marketing',
        'Invention',
        'Prototyping',
        'Appraisals',
        'Innovation',
        'Confidentiality',
        'Trade Marks',
        'CopyRights',
        'Ideas',
        'Crowdfunding',
        'Design',
        'Rights',
        'Protect',
        'Your Idea',
        'Creative',
        'Funding',
        'Patents',
        'Patent Attorneys',
        'Investors',
        'Designs',
        'Licensing',
        'Branding',
        'TradeMarks',
        'DesignRights',
        'Branding',
        'Prototyping',
        'Appraisals',
        'Patents',
        'IP',
        'Innovation',
        'Business',
        'Support',
        'Practical',
        'Creative',
        'Workshops',
        'CopyRights',
        'Marketing',
        'Invention',
        'Crowdfunding',
        'PatentPending',
        'TradeSecrets',
        'Investors',
        'Branding',
        'Trade Marks',
        'Design',
        'Rights',
        'Patents',
        'Prototyping',
        'Appraisals',
        'Patents',
        'Innovation',
        'Busines',
        'Support',
        'Licensing',
        'NDA',
        'Investors',
        'Funding',
      ];

      const trianglePoints = [
        { x: 400, y: 120 },
        { x: 680, y: 680 },
        { x: 120, y: 680 },
      ];

      function pointInTriangle(pt, v1, v2, v3) {
        const dX = pt.x - v3.x;
        const dY = pt.y - v3.y;
        const dX21 = v3.x - v2.x;
        const dY12 = v2.y - v3.y;
        const D = dY12 * (v1.x - v3.x) + dX21 * (v1.y - v3.y);
        const s = dY12 * dX + dX21 * dY;
        const t = (v3.y - v1.y) * dX + (v1.x - v3.x) * dY;
        if (D < 0) return s <= 0 && t <= 0 && s + t >= D;
        return s >= 0 && t >= 0 && s + t <= D;
      }

      let containerRect = container.getBoundingClientRect();
      let svgRect = logoSVG.getBoundingClientRect();
      let scaleX = svgRect.width / 800;
      let scaleY = svgRect.height / 800;

      function svgToContainer(pt) {
        return {
          x: svgRect.left - containerRect.left + pt.x * scaleX,
          y: svgRect.top - containerRect.top + pt.y * scaleY,
        };
      }
      function containerToSVG(pt) {
        return {
          x: (pt.x - (svgRect.left - containerRect.left)) / scaleX,
          y: (pt.y - (svgRect.top - containerRect.top)) / scaleY,
        };
      }
      function pointInTriangleContainerCoords(pt) {
        const svgPt = containerToSVG(pt);
        return pointInTriangle(svgPt, ...trianglePoints);
      }

      let polyMinX =
        Math.min(...trianglePoints.map((p) => p.x)) * scaleX +
        (svgRect.left - containerRect.left);
      let polyMaxX =
        Math.max(...trianglePoints.map((p) => p.x)) * scaleX +
        (svgRect.left - containerRect.left);
      let polyMinY =
        Math.min(...trianglePoints.map((p) => p.y)) * scaleY +
        (svgRect.top - containerRect.top);
      let polyMaxY =
        Math.max(...trianglePoints.map((p) => p.y)) * scaleY +
        (svgRect.top - containerRect.top);

      const polyBox = {
        x: polyMinX,
        y: polyMinY,
        width: polyMaxX - polyMinX,
        height: polyMaxY - polyMinY,
      };

      function boxesOverlapWithPadding(a, b, pad = 0) {
        return !(
          a.x + a.width + pad < b.x - pad ||
          a.x - pad > b.x + b.width + pad ||
          a.y + a.height + pad < b.y - pad ||
          a.y - pad > b.y + b.height + pad
        );
      }

      function randInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }

      function placeWords() {
        const oldWords = container.querySelectorAll('.word');
        oldWords.forEach((w) => w.remove());

        const placedBoxes = [];
        const padding = 4; // Reduced padding for tighter layout
        const containerWidth = container.clientWidth;
        const containerHeight = container.clientHeight;
        const polyCenter = {
          x: polyBox.x + polyBox.width / 2,
          y: polyBox.y + polyBox.height / 2,
        };

        const fontWeights = [400, 500, 600, 700];
        const fontSizes = [
          16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30,
        ];
        const maxDistance =
          Math.sqrt(containerWidth ** 2 + containerHeight ** 2) / 2;

        for (const word of words) {
          let tries = 0;
          while (tries < 300) {
            // Increased tries for better fitting with less padding
            const rotation = randInt(-40, 40);

            const span = document.createElement('span');
            span.textContent = word;
            span.style.position = 'absolute';
            span.style.whiteSpace = 'nowrap';
            container.appendChild(span);

            // Initial font size and weight for sizing
            span.style.fontSize =
              fontSizes[Math.floor(fontSizes.length / 2)] + 'px';
            span.style.fontWeight =
              fontWeights[Math.floor(fontWeights.length / 2)];

            let wordWidth = span.offsetWidth;
            let wordHeight = span.offsetHeight;

            const x = randInt(padding, containerWidth - wordWidth - padding);
            const y = randInt(padding, containerHeight - wordHeight - padding);
            const box = { x, y, width: wordWidth, height: wordHeight };

            const overlapsWord = placedBoxes.some((p) =>
              boxesOverlapWithPadding(box, p, padding)
            );
            const overlapsPolyBox = boxesOverlapWithPadding(
              box,
              polyBox,
              padding
            );
            const inTriangle = pointInTriangleContainerCoords({
              x: x + wordWidth / 2,
              y: y + wordHeight / 2,
            });

            if (overlapsWord || overlapsPolyBox || inTriangle) {
              span.remove();
              tries++;
              continue;
            }

            const wordCenter = { x: x + wordWidth / 2, y: y + wordHeight / 2 };
            const dx = wordCenter.x - polyCenter.x;
            const dy = wordCenter.y - polyCenter.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            const normDist = Math.min(distance / maxDistance, 1);

            // Select font size and weight by proximity
            const fontSizeIndex = Math.min(
              fontSizes.length - 1,
              Math.floor((1 - normDist) * fontSizes.length)
            );
            const fontSize = fontSizes[fontSizeIndex];
            span.style.fontSize = fontSize + 'px';

            // Update size after font size change
            wordWidth = span.offsetWidth;
            wordHeight = span.offsetHeight;
            box.width = wordWidth;
            box.height = wordHeight;

            if (
              placedBoxes.some((p) =>
                boxesOverlapWithPadding(box, p, padding)
              ) ||
              boxesOverlapWithPadding(box, polyBox, padding) ||
              pointInTriangleContainerCoords({
                x: x + wordWidth / 2,
                y: y + wordHeight / 2,
              })
            ) {
              span.remove();
              tries++;
              continue;
            }

            const fontWeightIndex = Math.min(
              fontWeights.length - 1,
              Math.floor((1 - normDist) * fontWeights.length)
            );
            span.style.fontWeight = fontWeights[fontWeightIndex];

            // Assign class based on font size
            if (fontSize === 19 || fontSize === 23) {
              span.className = 'word prime';
            } else if (fontSize === 18) {
              span.className = 'word first';
            } else if (fontSize === 22) {
              span.className = 'word middle';
            } else if (fontSize === 28) {
              span.className = 'word last';
            } else if (fontSize % 2 === 0) {
              span.className = 'word even';
            } else {
              span.className = 'word odd';
            }

            span.style.transform = `rotate(${rotation}deg)`;
            span.style.left = `${polyCenter.x}px`;
            span.style.top = `${polyCenter.y}px`;
            requestAnimationFrame(() => {
              span.style.transition = 'left 0.7s ease, top 0.7s ease';
              span.style.left = `${x}px`;
              span.style.top = `${y}px`;
            });

            placedBoxes.push(box);
            break;
          }
        }
      }

      placeWords();

      logoLink.addEventListener('click', (e) => {
        e.preventDefault();
        const rect = container.getBoundingClientRect();
        const clickX = e.clientX - rect.left;
        const clickY = e.clientY - rect.top;

        if (pointInTriangleContainerCoords({ x: clickX, y: clickY })) {
          window.open('https://google.com', '_blank');
        } else {
          placeWords();
        }
      });

      container.addEventListener('click', (e) => {
        if (!logoSVG.contains(e.target)) {
          placeWords();
        }
      });

      let resizeTimeout;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
          containerRect = container.getBoundingClientRect();
          svgRect = logoSVG.getBoundingClientRect();
          scaleX = svgRect.width / 800;
          scaleY = svgRect.height / 800;

          const polyMinX =
            Math.min(...trianglePoints.map((p) => p.x)) * scaleX +
            (svgRect.left - containerRect.left);
          const polyMaxX =
            Math.max(...trianglePoints.map((p) => p.x)) * scaleX +
            (svgRect.left - containerRect.left);
          const polyMinY =
            Math.min(...trianglePoints.map((p) => p.y)) * scaleY +
            (svgRect.top - containerRect.top);
          const polyMaxY =
            Math.max(...trianglePoints.map((p) => p.y)) * scaleY +
            (svgRect.top - containerRect.top);

          polyBox.x = polyMinX;
          polyBox.y = polyMinY;
          polyBox.width = polyMaxX - polyMinX;
          polyBox.height = polyMaxY - polyMinY;

          placeWords();
        }, 500);
      });
    </script>
  </body>
</html>
